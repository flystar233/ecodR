% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ecod.R
\name{ecod}
\alias{ecod}
\title{ECOD: Empirical Cumulative Distribution-Based Outlier Detection}
\usage{
ecod(data, normalize = FALSE)
}
\arguments{
\item{data}{A numeric matrix or data frame. Rows represent samples and columns
represent features.}

\item{normalize}{Logical. Whether to standardize the data before computing tail
probabilities. Default is FALSE as ECOD is scale-invariant.}
}
\value{
An object of class "ecod" containing:
\item{scores}{Anomaly scores for each sample. Higher scores indicate more anomalous samples.}
\item{tail_probs}{Matrix of tail probabilities for each sample-feature pair.}
\item{data}{The input data (if retained).}
\item{n_samples}{Number of samples.}
\item{n_features}{Number of features.}
\item{feature_names}{Names of features.}
}
\description{
Implements the ECOD algorithm for fast, parameter-free anomaly detection.
ECOD uses empirical cumulative distribution functions (ECDF) to compute
tail probabilities for each feature and aggregates them to identify outliers.
}
\details{
ECOD computes the anomaly score as:
\deqn{score_i = -\sum_{j=1}^{d} \log(\min(F_j(x_{ij}), 1 - F_j(x_{ij})))}
where \eqn{F_j} is the empirical CDF of feature j.

The method has several advantages:
\itemize{
  \item No parameters to tune
  \item Extremely fast (O(n log n))
  \item Scale-invariant (uses ranks)
  \item Interpretable (feature-level tail probabilities)
}

\strong{Handling Categorical Features:}

ECOD requires numeric features. If a data frame contains non-numeric columns
(factors, characters), they will be automatically filtered out with a warning.
To properly include categorical information:

\itemize{
  \item \strong{One-Hot Encoding} (recommended for few categories):
    \code{X <- model.matrix(~ . - 1, data = your_data)}
  \item \strong{Frequency Encoding} (for many categories):
    Replace categories with their occurrence frequencies
  \item \strong{Label Encoding} (only for ordinal features):
    Convert ordered categories to integers
}

See examples for demonstrations of encoding methods.
}
\examples{
# Basic usage with iris dataset
data(iris)
model <- ecod(iris[, 1:4])
print(model)
summary(model$scores)

# Identify top 5\% as outliers
threshold <- quantile(model$scores, 0.95)
outliers <- which(model$scores > threshold)
print(outliers)

# Visualize anomaly scores
plot(model)

# Automatic filtering of categorical features
# Species column (factor) will be automatically removed with warning
model_auto <- ecod(iris)  # Automatically filters Species column

# Proper way to handle categorical features: One-Hot encoding
iris_encoded <- model.matrix(~ . - 1, data = iris[, c(1:4, 5)])
model_encoded <- ecod(iris_encoded)

}
\references{
Li, Z., Zhao, Y., Botta, N., Ionescu, C., & Hu, X. (2022).
ECOD: Unsupervised Outlier Detection Using Empirical Cumulative Distribution Functions.
IEEE Transactions on Knowledge and Data Engineering.
}

